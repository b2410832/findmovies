{"ast":null,"code":"import _classCallCheck from\"/Users/rosechen/findmovie/findmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rosechen/findmovie/findmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rosechen/findmovie/findmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rosechen/findmovie/findmovies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import SearchMovies from'../components/SearchMovies.js';import NavBar from'../components/NavBar.js';import MovieCardList from'../components/MovieCardList.js';import'./App.css';import{library}from'@fortawesome/fontawesome-svg-core';import{fab}from'@fortawesome/free-brands-svg-icons';import{faStar}from'@fortawesome/free-solid-svg-icons';library.add(fab,faStar);var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.onSubmitChange=function(e){e.preventDefault();//必要！！避免瀏覽器儲存query的預設行為（不是很懂為什麼...但沒加就會失敗） \nvar query=_this.state.query;var url=\"https://api.themoviedb.org/3/search/movie?api_key=c28333c97f27ab72531d6065d408f418&language=en-US&query=\".concat(query,\"&page=1&include_adult=false\");try{fetch(url).then(function(response){return response.json();}).then(function(data){return _this.setState({movies:data.results,query:''});});}catch(error){console.log(error);}};_this.onSearchChange=function(event){_this.setState({query:event.target.value});};_this.state={query:'',movies:[]};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,query=_this$state.query,movies=_this$state.movies;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"fragment\"},/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(SearchMovies,{searchChange:this.onSearchChange,submitChange:this.onSubmitChange,query:query})),/*#__PURE__*/React.createElement(MovieCardList,{movies:movies}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/rosechen/findmovie/findmovies/src/container/App.js"],"names":["React","Component","SearchMovies","NavBar","MovieCardList","library","fab","faStar","add","App","onSubmitChange","e","preventDefault","query","state","url","fetch","then","response","json","data","setState","movies","results","error","console","log","onSearchChange","event","target","value"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAO,WAAP,CACA,OAASC,OAAT,KAAwB,mCAAxB,CACA,OAASC,GAAT,KAAoB,oCAApB,CACA,OAASC,MAAT,KAAuB,mCAAvB,CAEAF,OAAO,CAACG,GAAR,CAAYF,GAAZ,CAAiBC,MAAjB,E,GAEME,CAAAA,G,0FACJ,cAAc,qCACZ,wBADY,MAQdC,cARc,CAQG,SAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GAAoB;AACpB,GAAMC,CAAAA,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAxB,CACA,GAAME,CAAAA,GAAG,mHAA8GF,KAA9G,+BAAT,CACA,GAAG,CACDG,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,QAAI,OAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEF,IAAI,CAACG,OAAf,CAAwBV,KAAK,CAAC,EAA9B,CAAd,CAAJ,EAFV,EAGD,CAAC,MAAMW,KAAN,CAAa,CACbC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CACF,CAnBa,OAqBdG,cArBc,CAqBG,SAACC,KAAD,CAAW,CAC1B,MAAKP,QAAL,CAAc,CAAER,KAAK,CAAEe,KAAK,CAACC,MAAN,CAAaC,KAAtB,CAAd,EACD,CAvBa,CAEZ,MAAKhB,KAAL,CAAa,CACXD,KAAK,CAAC,EADK,CAEXS,MAAM,CAAC,EAFI,CAAb,CAFY,aAMb,C,uDAmBQ,iBACmB,KAAKR,KADxB,CACCD,KADD,aACCA,KADD,CACQS,MADR,aACQA,MADR,CAEP,mBACA,4CACE,2BAAK,SAAS,CAAC,UAAf,eACE,oBAAC,MAAD,MADF,cAEE,oBAAC,YAAD,EACE,YAAY,CAAG,KAAKK,cADtB,CAEE,YAAY,CAAG,KAAKjB,cAFtB,CAGE,KAAK,CAAGG,KAHV,EAFF,CADF,cASE,oBAAC,aAAD,EAAe,MAAM,CAAGS,MAAxB,EATF,CADA,CAaD,C,iBAzCerB,S,EA4ClB,cAAeQ,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport SearchMovies from '../components/SearchMovies.js';\nimport NavBar from '../components/NavBar.js';\nimport MovieCardList from '../components/MovieCardList.js';\nimport './App.css';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(fab, faStar)\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      query:'',\n      movies:[],\n    }\n  }\n\n  onSubmitChange = (e) => {\n    e.preventDefault(); //必要！！避免瀏覽器儲存query的預設行為（不是很懂為什麼...但沒加就會失敗） \n    const query= this.state.query;\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=c28333c97f27ab72531d6065d408f418&language=en-US&query=${query}&page=1&include_adult=false`;    \n    try{\n      fetch(url)\n      .then(response => response.json())\n      .then(data => this.setState({ movies: data.results, query:'' }));\n    } catch(error) {\n      console.log(error);\n    }\n  }\n\n  onSearchChange = (event) => {\n    this.setState({ query: event.target.value });\n  }\n\n  render() {\n    const { query, movies } = this.state;\n    return (\n    <div>\n      <div className=\"fragment\">\n        <NavBar />\n        <SearchMovies \n          searchChange={ this.onSearchChange } \n          submitChange={ this.onSubmitChange } \n          query={ query }\n        />\n      </div>\n      <MovieCardList movies={ movies }/>\n    </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}